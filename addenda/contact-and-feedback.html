<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	
	<link href='https://fonts.googleapis.com/css?family=Italianno' rel='stylesheet'>
	<link rel="stylesheet" href="../stylesheets/styling-reset-by-eric-meyer.css">
	<link rel="stylesheet" href="../stylesheets/styling.css">
	
	<script src="../script/add-menu.js"></script>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
	</script>
	
	<script>
	
	document.addEventListener('readystatechange', function() {
    		if (document.readyState === "complete") {
    				console.log("Loading")
     	 			onload();
    		}
    	});
	
	function onSubmit(token) {
	
		console.log("Submit procedure has started");
      
      	data = {
			name: $("#name-input").val(),
			email: $("#email-input").val(),
			message: $("#message-input").val()
		};
	
		console.log(data);
	
		$.ajax({
			type: "POST",
			url: "https://api.eikjo.net/contact-us",
			dataType: "json",
			crossDomain: "true",
			contentType: "application/json; charset=utf-8",
			data: JSON.stringify(data)
		});
		
		console.log("Submit procedure has Endedt");
		
		$("#message-input").hide();
      
    }
    
    function onError() {
    	
    	console.log("Error!");
    	
    	$(".error-msg").text("Error: reCaptcha can not verfify that you are human. Please try again later.");
    	$(".your-msg").text($("#message-input").val());
    	$(".form-error").show();
    	
    	$("#message-input").hide();
    	$("#name-input").hide();
    	$("#email-input").hide();
    
    }
	
	function validate(event) {
      event.preventDefault();
      if (!document.getElementById('name-input').value) {
        alert("You must add text to the required field");
      } else {
      	console.log("Ready to execute");
        grecaptcha.execute();
        console.log("We have executed");
      }
    }
    
    function onload() {
      var element = document.getElementById('submit');
      element.onclick = validate;
    }
	
	</script>

	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
	
<script type="application/ld+json">
[
	{
		"@context": "http://schema.org",
		"@type": "WebPage",
		"@id": "https://eikjo.net/addenda/contact-and-feedback.html#page",
		"name": "Laberg",
		"speakable": {
			"@type": "SpeakableSpecification",
			"cssSelector": [
				"#title1"
			]
		},
		"url": "https://eikjo.net/addenda/contact-and-feedback.html"
	},
	{
		"@context": "https://schema.org",
 		"@type": "BreadcrumbList",
 		"@id": "https://eikjo.net/addenda/contact-and-feedback.html#breadcrumb",
 		"itemListElement": [
 			 {
			   	"@type": "ListItem",
			   	"position": 1,
			   	"name": "Introduction",
			   	"item": {
			   		"@type": "WebPage",
					"@id": "https://eikjo.net/#page".
					"type": "https://eikjo.net/"
				}
			},
			{
				"@type": "ListItem",
				"position": 2,
				"name": "Contact and feedback",
				"item": {
				 	"@type": "WebPage",
					"@id": "https://eikjo.net/addenda/contact-and-feedback.html#page",
					"type": "https://eikjo.net/addenda/contact-and-feedback.html"
			   }
			}
 		]
	}
]
</script>
	
	<title>Ytre Eikjo - sources</title>
</head>
<body>

<div class="centered">
<div class="content content-width top-space-subpage"> 


<h1 class="top content-object h1-subpage">

<a href="../index.html#beginning">Ytre Eikjo</a>
</h1>


<div class="text2 content-object">

<h2>Contact form</h2>

<div class="form-error">
<p class="error-msg"></p>
<p class="your-msg"></p>
</div>

<form class="contact-form">
	<div id='recaptcha' class="g-recaptcha"
          data-sitekey="6LckD6gaAAAAAJZU4g4SlFqBJxmfaMKvGibt0nLM"
          data-callback="onSubmit"
          data-error-callback="onError"
          data-size="invisible"></div>
	<textarea id="message-input" rows="10" placeholder="Your message here."></textarea>
	<input type="text" id="name-input" placeholder="Your name."/>
	<input type="email" id="email-input" placeholder="Your email address."/>
    <button id='submit'>submit</button>
    </form>
    

</div>


<div class="menu-footer content-object"> 


<nav id="menu">
</nav>
<noscript>
Javascript is generating this menu. 
Please enable it or navigate through the links in the text and use the header link for getting back home to the front page. 
</noscript>

</div>
</div></div>

<div class="backgroundImg">
<img src="https://api.eikjo.net/getbackground">
</div>




</body>
</html>